
# UMAMI ANALYTICS INTEGRATION GUIDE
# Ø¹ÙŠØ§Ø¯Ø§Øª ØªØ¹Ø§ÙÙŠ Ø§Ù„ØªØ®ØµØµÙŠØ© - Ø¯Ù„ÙŠÙ„ ØªÙƒØ§Ù…Ù„ ØªØ­Ù„ÙŠÙ„Ø§Øª Umami

================================================================
ğŸ“Š OVERVIEW / Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
================================================================

This document outlines all Umami analytics events implemented in the Taafi Clinics web application, 
including event categories, tracking points, and configuration instructions.

ÙŠÙˆØ¶Ø­ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ø¬Ù…ÙŠØ¹ Ø£Ø­Ø¯Ø§Ø« ØªØ­Ù„ÙŠÙ„Ø§Øª Umami Ø§Ù„Ù…Ø·Ø¨Ù‚Ø© ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø¹ÙŠØ§Ø¯Ø§Øª ØªØ¹Ø§ÙÙŠ Ø§Ù„ÙˆÙŠØ¨ØŒ
Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ ÙØ¦Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ÙˆÙ†Ù‚Ø§Ø· Ø§Ù„ØªØªØ¨Ø¹ ÙˆØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„ØªÙƒÙˆÙŠÙ†.

================================================================
ğŸ¯ EVENT CATEGORIES / ÙØ¦Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
================================================================

1. HEALTH TOOLS (health_tools)
2. BOOKING FLOW (booking)
3. ENGAGEMENT (engagement)
4. PERFORMANCE (performance)
5. MOBILE INTERACTIONS (mobile)
6. CHAT INTERACTIONS (chat)
7. PAGE TRACKING (navigation)

================================================================
ğŸ“ˆ DETAILED EVENT TRACKING / ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªÙØµÙŠÙ„ÙŠ
================================================================

1. HEALTH TOOLS EVENTS
   =====================
   
   Event: health_tool_opened
   Data: {
     tool_id: string (e.g., "bmi-calculator", "diabetes-risk")
     tool_name: string (e.g., "Ø­Ø§Ø³Ø¨Ø© ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù…", "Ø§Ø®ØªØ¨Ø§Ø± Ø®Ø·Ø± Ø§Ù„Ø³ÙƒØ±ÙŠ")
     category: "health_tools"
     action: "opened"
   }
   
   Event: health_tool_completed
   Data: {
     tool_id: string
     tool_name: string
     category: "health_tools"
     action: "completed"
     duration: number (milliseconds)
     result_score?: number
   }
   
   Event: health_tool_closed
   Data: {
     tool_id: string
     tool_name: string
     category: "health_tools"
     action: "closed"
     duration: number (milliseconds)
   }
   
   Event: health_tool_result
   Data: {
     tool_id: string
     tool_name: string
     category: "health_tools"
     action: "result_generated"
     result_score?: number
   }

2. BOOKING FLOW EVENTS
   ===================
   
   Event: booking_started
   Data: {
     category: "booking"
     action: "started"
   }
   
   Event: doctor_selected
   Data: {
     category: "booking"
     action: "doctor_selected"
     doctor_id: number
     doctor_name: string
     specialty_id?: number
   }
   
   Event: specialty_selected
   Data: {
     category: "booking"
     action: "specialty_selected"
     specialty_id: number
     specialty_name: string
   }
   
   Event: booking_completed
   Data: {
     category: "booking"
     action: "completed"
     doctor_id?: number
     specialty_id?: number
     duration: number (milliseconds)
   }

3. ENGAGEMENT EVENTS
   ==================
   
   Event: cta_clicked
   Data: {
     category: "engagement"
     action: "cta_clicked"
     element: string (e.g., "floating_whatsapp_button", "header_booking_button")
     cta_type: "phone" | "whatsapp" | "booking" | "other"
   }
   
   Event: section_viewed
   Data: {
     category: "engagement"
     action: "section_viewed"
     section: string (e.g., "health_tools_section", "navigation_home")
   }

4. CHAT INTERACTIONS
   ==================
   
   Event: chat_interaction
   Data: {
     category: "engagement"
     action: "opened" | "closed" | "message_sent" | "doctor_selected"
     element: "chatbot"
   }

5. PAGE TRACKING
   ===============
   
   Event: page_view
   Data: {
     page: string (e.g., "/", "/doctors", "/health-tools")
     title?: string
     timestamp: number
   }
   
   Event: virtual_page_view
   Data: {
     virtual_page: string (e.g., "/chat", "/health-tool/bmi")
     context?: string
     timestamp: number
   }

6. PERFORMANCE TRACKING
   ======================
   
   Event: performance_metric
   Data: {
     category: "performance"
     action: "page_load_time" | "tool_load_time"
     duration: number
     page?: string
   }
   
   Event: error_occurred
   Data: {
     category: "performance"
     action: "error_occurred"
     error_type: string
     error_message?: string
     page?: string
   }

7. MOBILE INTERACTIONS
   =====================
   
   Event: mobile_interaction
   Data: {
     category: "mobile"
     action: string (e.g., "whatsapp_click", "phone_click")
     element: string (e.g., "floating_button")
     screen_width: number
   }

================================================================
ğŸ”§ UMAMI DASHBOARD CONFIGURATION / ØªÙƒÙˆÙŠÙ† Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Umami
================================================================

1. CUSTOM EVENTS SETUP
   ====================
   
   In your Umami dashboard, set up the following custom events:
   
   â€¢ health_tool_opened
   â€¢ health_tool_completed
   â€¢ health_tool_closed
   â€¢ health_tool_result
   â€¢ booking_started
   â€¢ doctor_selected
   â€¢ specialty_selected
   â€¢ booking_completed
   â€¢ cta_clicked
   â€¢ section_viewed
   â€¢ chat_interaction
   â€¢ page_view
   â€¢ virtual_page_view
   â€¢ performance_metric
   â€¢ error_occurred
   â€¢ mobile_interaction

2. CUSTOM PROPERTIES
   ==================
   
   Configure these custom properties in Umami:
   
   â€¢ tool_id (string)
   â€¢ tool_name (string)
   â€¢ category (string)
   â€¢ action (string)
   â€¢ doctor_id (number)
   â€¢ doctor_name (string)
   â€¢ specialty_id (number)
   â€¢ specialty_name (string)
   â€¢ duration (number)
   â€¢ result_score (number)
   â€¢ element (string)
   â€¢ cta_type (string)
   â€¢ section (string)
   â€¢ page (string)
   â€¢ virtual_page (string)
   â€¢ context (string)
   â€¢ error_type (string)
   â€¢ error_message (string)
   â€¢ screen_width (number)

3. GOALS & FUNNELS
   ================
   
   Recommended goals to set up:
   
   â€¢ Health Tool Completion Rate
   â€¢ Booking Conversion Rate
   â€¢ Chat Engagement Rate
   â€¢ CTA Click Rate
   â€¢ Mobile vs Desktop Usage
   
   Funnel Analysis:
   â€¢ Booking Funnel: started â†’ doctor_selected â†’ completed
   â€¢ Health Tool Funnel: opened â†’ result_generated â†’ completed
   â€¢ Engagement Funnel: page_view â†’ section_viewed â†’ cta_clicked

================================================================
ğŸ“Š ANALYTICS INSIGHTS / Ø±Ø¤Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª
================================================================

KEY METRICS TO MONITOR:
========================

1. Health Tools Performance:
   - Most popular health tools
   - Completion rates by tool
   - Average time spent in tools
   - Result score distributions

2. Booking Conversion:
   - Booking funnel drop-off points
   - Most selected doctors/specialties
   - Booking completion rate
   - Time to complete booking

3. User Engagement:
   - Page view patterns
   - Section engagement rates
   - CTA effectiveness
   - Chat interaction patterns

4. Mobile Experience:
   - Mobile vs desktop usage
   - Mobile-specific interactions
   - Performance on mobile devices

5. Performance Monitoring:
   - Page load times
   - Error rates and types
   - Tool performance metrics

================================================================
ğŸ› ï¸ TECHNICAL IMPLEMENTATION / Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ‚Ù†ÙŠ
================================================================

Files Modified for Analytics:
==============================

1. src/services/analyticsService.ts
   - Main analytics service with all tracking methods
   - Error handling and debug mode
   - Type-safe event tracking

2. src/hooks/useAnalytics.ts
   - React hook for easy component integration
   - Page view tracking with React Router
   - Organized tracking methods by category

3. Component Integrations:
   - src/components/shared/HealthToolsSection.tsx
   - src/components/health-tools/HealthToolsManager.tsx
   - src/components/shared/FloatingActionButtons.tsx
   - src/components/shared/chatbot/ChatBot.tsx
   - src/components/layout/Header.tsx

Script Integration:
===================

The Umami script is already integrated in index.html:
<script defer src="https://umami.taafe-clinics.com/script.js" 
        data-website-id="19d72bbb-2204-4820-b809-f0d40aee1823"></script>

================================================================
ğŸ”’ PRIVACY & COMPLIANCE / Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ø§Ù…ØªØ«Ø§Ù„
================================================================

- All tracking is anonymous and GDPR compliant
- No personal information is collected
- Users can opt-out through browser settings
- Data is processed securely through Umami

================================================================
ğŸ“ SUPPORT / Ø§Ù„Ø¯Ø¹Ù…
================================================================

For technical support or questions about analytics implementation:
Email: info@taafi-clinics.com
Phone: +201119007403

================================================================
END OF DOCUMENT / Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ†Ø¯
================================================================
